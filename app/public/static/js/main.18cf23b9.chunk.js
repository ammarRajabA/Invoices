(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e,t,a){e.exports=a(86)},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(24),s=a.n(i),c=a(3),o=a(4),l=a(7),u=a(5),p=a(6),d=a(16),m=a(43),v=a(17),h=a(14),f=a(21),E=a.n(f),b=(a(56),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("button",Object.assign({className:"button ".concat(this.props.type)},this.props,{onClick:"disabled"===this.props.type?function(){}:this.props.onClick}),this.props.icon&&r.a.createElement("i",{className:this.props.icon}),this.props.label&&r.a.createElement("span",null,this.props.label))}}]),t}(n.Component)),g=(a(57),n.Component,a(58),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("span",{className:"input-container"},r.a.createElement("span",{className:"label ".concat("false"===this.props.error?"input-error":""),style:{opacity:this.props.value?0===this.props.value.length?0:1:0}},this.props.placeholder),"textarea"===this.props.type?r.a.createElement("textarea",Object.assign({className:"input ".concat("false"===this.props.error?"input-error":"")},this.props)):r.a.createElement("input",Object.assign({className:"input ".concat("false"===this.props.error?"input-error":"")},this.props)))}}]),t}(n.Component)),O=(a(59),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("table",Object.assign({className:"table"},this.props),this.props.children)}}]),t}(n.Component)),y=(a(60),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:this.props.small?"small-loader":"loader"}),r.a.createElement("h1",null,this.props.message))}}]),t}(n.Component)),I=(a(61),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("span",{className:"search"},r.a.createElement("input",this.props))}}]),t}(n.Component)),N=a(22),C=(a(62),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).setWrapperRef=a.setWrapperRef.bind(Object(N.a)(a)),a.handleClickOutside=a.handleClickOutside.bind(Object(N.a)(a)),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&this.props.onDismiss()}},{key:"render",value:function(){var e=this;return this.props.show?r.a.createElement("div",{className:"popup-menu",ref:this.setWrapperRef},this.props.options.map(function(t,a){return r.a.createElement("span",{key:"option_"+a,className:"option",onClick:function(){return e.props.handleOption(t,a)}},t)})):r.a.createElement("span",null)}}]),t}(n.Component)),j=(a(63),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return!0===this.props.show?r.a.createElement("div",null,r.a.createElement("div",{className:"confirm-background",onClick:this.props.onDismiss}),r.a.createElement("div",{className:"confirm-container"},r.a.createElement("span",{className:"confirm-header ".concat(this.props.type)},r.a.createElement("span",{className:"title"},this.props.title),r.a.createElement("span",{className:"close",onClick:this.props.onDismiss},r.a.createElement("i",{className:"fas fa-times-circle",style:{color:"white"}}))),r.a.createElement("span",{className:"confirm-message"},this.props.message),r.a.createElement("span",{className:"confirm-buttons"},r.a.createElement(b,{label:"Cancel",type:"normal",onClick:this.props.onCancel}),r.a.createElement(b,{label:"Confirm",type:this.props.type,onClick:this.props.onConfirm})))):r.a.createElement("span",null)}}]),t}(n.Component)),w=(a(64),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("span",Object.assign({className:"label-component ".concat(this.props.type)},this.props),this.props.subtitle&&r.a.createElement("span",{className:"label-subtitle"},this.props.subtitle),this.props.title&&r.a.createElement("span",{className:"label-title"},this.props.title),r.a.createElement("span",{className:"label-footer"},this.props.minilabels&&this.props.minilabels.map(function(e,t){return r.a.createElement("span",{key:"mini_label"+t,className:"mini-label"},r.a.createElement("span",{className:"mini-label-subtitle"},e.subtitle),r.a.createElement("span",{className:"mini-label-title"},e.title))})))}}]),t}(n.Component)),S=a(19),R=a(1),k=function e(t){var a=0;return Array.isArray(t)?(t.map(function(t){a+=e(t)}),a):(t.items.map(function(e){a+=e.qty*e.unitPriceNet*(1+parseFloat(e.taxRate))}),a)},D=function(e){var t=0;return Array.isArray(e)?(e.map(function(e){t+=k(e)}),t):(e.items.map(function(e){t+=e.qty*e.unitPriceNet}),t)},x=function(e){return e.qty*e.unitPriceNet},_=function(e){return e.qty*e.unitPriceNet*(1+parseFloat(e.taxRate))},T=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},M=function(e){return/(DE)?[0-9]{9}/.test(e)},P=a(20),A=a.n(P),H=a(26),V=a(42),z=a.n(V).a.create({baseURL:"",headers:{"Content-Type":"application/json"}}),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return function(){var a=Object(H.a)(A.a.mark(function a(n){var r;return A.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"STARTED_FETCH_INVOICES"}),a.next=4,z.get("/invoices?page_size=".concat(t,"&page_number=").concat(e));case 4:200===(r=a.sent).status?n({type:"FINISHED_FETCH_INVOICES",payload:r.data}):n({type:"FAILED_FETCH_INVOICES"}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:"FAILED_FETCH_INVOICES"});case 11:case"end":return a.stop()}},a,null,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()},L=(a(83),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).update=function(e,t){a.props.updateInvoice(e,t)},a.saveInvoice=function(){a.props.saveInvoice(a.props.invoicesReducer.invoiceSelected),a.props.onDismiss()},a.addItem=function(){a.update("items",[].concat(Object(h.a)(a.props.invoicesReducer.invoiceSelected.items),[{description:"",qty:0,unitPriceNet:0,taxRate:0}]))},a.removeItem=function(e){var t=Object(h.a)(a.props.invoicesReducer.invoiceSelected.items);t.splice(e,1),a.update("items",t)},a.validate=function(){var e=a.props.invoicesReducer.invoiceSelected,t=!0,n={dueDate:!0,sender:{name:!0,address1:!0,vatId:!0,email:!0},recipient:{name:!0,address1:!0,vatId:!0,email:!0},items:[]};M(e.sender.vatId)||(t=!1,n.sender.vatId=!1),M(e.recipient.vatId)||(t=!1,n.recipient.vatId=!1),T(e.sender.email)||(t=!1,n.sender.email=!1),T(e.recipient.email)||(t=!1,n.recipient.email=!1),0===e.recipient.address1.length&&(t=!1,n.recipient.address1=!1),0===e.sender.address1.length&&(t=!1,n.sender.address1=!1),0===e.recipient.name.length&&(t=!1,n.recipient.name=!1),0===e.sender.name.length&&(t=!1,n.sender.name=!1),0===e.dueDate.length&&(t=!1,n.dueDate=!1),e.items.map(function(e){e.qty<=0&&(t=!1),e.unitPriceNet<=0&&(t=!1),n.items.push({qty:!(e.qty<=0),unitPriceNet:!(e.unitPriceNet<=0)})}),t?a.setState({showConfirm:!0}):a.setState({showConfirm:!1,validation:n})},a.renderTitle=function(){return a.props.invoicesReducer.invoiceSelected.id<0?r.a.createElement("h1",{className:"title"},"New Invoice"):a.props.editMode?r.a.createElement("h1",{className:"title"},"Edit Invoice"):r.a.createElement("h1",{className:"title"},"Invoice")},a.renderHeader=function(){a.props.invoicesReducer.invoiceSelected;return r.a.createElement("span",{className:"modal-header"},a.renderTitle())},a.renderItems=function(){var e=a.props.invoicesReducer.invoiceSelected;return r.a.createElement(O,null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:200}},"Description"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Item Price"),r.a.createElement("th",null,"Tax Rate"),r.a.createElement("th",null,"Total without tax (netto)"),r.a.createElement("th",null,"Total after tax (brutto)")),e.items.map(function(t,n){return r.a.createElement("tr",{key:"item_"+n},r.a.createElement("td",null,r.a.createElement(g,{style:{resize:"none"},type:"textarea",readOnly:!a.props.editMode,value:t.description||"",onChange:function(r){return a.update("items",Object.assign(Object(h.a)(e.items),Object(S.a)({},n,Object(R.a)({},t,{description:r.target.value}))))}})),r.a.createElement("td",null,r.a.createElement(g,{readOnly:!a.props.editMode,type:"number",value:t.qty||"",onChange:function(r){return a.update("items",Object.assign(Object(h.a)(e.items),Object(S.a)({},n,Object(R.a)({},t,{qty:r.target.value}))))},error:void 0===a.state.validation.items[n]?"true":a.state.validation.items[n].qty.toString()})),r.a.createElement("td",null,r.a.createElement(g,{readOnly:!a.props.editMode,type:"number",value:t.unitPriceNet||"",onChange:function(r){return a.update("items",Object.assign(Object(h.a)(e.items),Object(S.a)({},n,Object(R.a)({},t,{unitPriceNet:r.target.value}))))},error:void 0===a.state.validation.items[n]?"true":a.state.validation.items[n].unitPriceNet.toString()})),r.a.createElement("td",null,r.a.createElement(g,{readOnly:!a.props.editMode,type:"number",value:t.taxRate||"",onChange:function(r){return a.update("items",Object.assign(Object(h.a)(e.items),Object(S.a)({},n,Object(R.a)({},t,{taxRate:r.target.value}))))}})),r.a.createElement("td",null,r.a.createElement("span",{style:{margin:10}},x(t).toFixed(2)," $")),r.a.createElement("td",null,r.a.createElement("span",{style:{margin:10}},_(t).toFixed(2)," $")),r.a.createElement("td",null,r.a.createElement("span",{className:"close",onClick:function(){return a.removeItem(n)}},r.a.createElement("i",{className:"fas fa-times-circle"}))))})))},a.renderDetails=function(){var e=a.props.invoicesReducer.invoiceSelected;return r.a.createElement("div",{className:"modal-form"},r.a.createElement("span",{className:"group-input"},r.a.createElement("span",{className:"row"},r.a.createElement(g,{readOnly:!a.props.editMode,type:"datetime-local",placeholder:"Due Date",value:E()(e.dueDate).format("YYYY-MM-DDTHH:mm"),onChange:function(e){return a.update("dueDate",e.target.value)},error:a.state.validation.dueDate.toString()}),r.a.createElement(g,{readOnly:!0,type:"datetime-local",placeholder:"Created Date",value:E()(e.createdDate).format("YYYY-MM-DDTHH:mm"),onChange:function(e){return a.update("createdDate",e.target.value)}}))),r.a.createElement("span",{className:"group-input"},r.a.createElement("span",{className:"title"},"Sender"),r.a.createElement("span",{className:"row"},r.a.createElement(g,{readOnly:!a.props.editMode,placeholder:"Name",value:e.sender.name||"",onChange:function(t){return a.update("sender",Object(R.a)({},e.sender,{name:t.target.value}))},error:a.state.validation.sender.name.toString()}),r.a.createElement(g,{readOnly:!a.props.editMode,type:"email",placeholder:"Email",value:e.sender.email||"",onChange:function(t){return a.update("sender",Object(R.a)({},e.sender,{email:t.target.value}))},error:a.state.validation.sender.email.toString()})),r.a.createElement("span",{className:"row"},r.a.createElement(g,{readOnly:!a.props.editMode,placeholder:"Address 1",value:e.sender.address1||"",onChange:function(t){return a.update("sender",Object(R.a)({},e.sender,{address1:t.target.value}))},error:a.state.validation.sender.address1.toString()}),r.a.createElement(g,{readOnly:!a.props.editMode,placeholder:"Address 2",value:e.sender.address2||"",onChange:function(t){return a.update("sender",Object(R.a)({},e.sender,{address2:t.target.value}))}})),r.a.createElement("span",{className:"row"},r.a.createElement(g,{readOnly:!a.props.editMode,placeholder:"Address 3",value:e.sender.address3||"",onChange:function(t){return a.update("sender",Object(R.a)({},e.sender,{address3:t.target.value}))}}),r.a.createElement(g,{readOnly:!a.props.editMode,placeholder:"VAT ID",value:e.sender.vatId||"",onChange:function(t){return a.update("sender",Object(R.a)({},e.sender,{vatId:t.target.value}))},error:a.state.validation.sender.vatId.toString()}))),r.a.createElement("span",{className:"group-input"},r.a.createElement("span",{className:"title"},"Recipient"),r.a.createElement("span",{className:"row"},r.a.createElement(g,{readOnly:!a.props.editMode,placeholder:"Name",value:e.recipient.name||"",onChange:function(t){return a.update("recipient",Object(R.a)({},e.recipient,{name:t.target.value}))},error:a.state.validation.recipient.name.toString()}),r.a.createElement(g,{readOnly:!a.props.editMode,type:"email",placeholder:"Email",value:e.recipient.email||"",onChange:function(t){return a.update("recipient",Object(R.a)({},e.recipient,{email:t.target.value}))},error:a.state.validation.recipient.email.toString()})),r.a.createElement("span",{className:"row"},r.a.createElement(g,{readOnly:!a.props.editMode,placeholder:"Address 1",value:e.recipient.address1||"",onChange:function(t){return a.update("recipient",Object(R.a)({},e.recipient,{address1:t.target.value}))},error:a.state.validation.recipient.address1.toString()}),r.a.createElement(g,{readOnly:!a.props.editMode,placeholder:"Address 2",value:e.recipient.address2||"",onChange:function(t){return a.update("recipient",Object(R.a)({},e.recipient,{address2:t.target.value}))}})),r.a.createElement("span",{className:"row"},r.a.createElement(g,{readOnly:!a.props.editMode,placeholder:"Address 3",value:e.recipient.address3||"",onChange:function(t){return a.update("recipient",Object(R.a)({},e.recipient,{address3:t.target.value}))}}),r.a.createElement(g,{readOnly:!a.props.editMode,placeholder:"VAT ID",value:e.recipient.vatId||"",onChange:function(t){return a.update("recipient",Object(R.a)({},e.recipient,{vatId:t.target.value}))},error:a.state.validation.recipient.vatId.toString()}))),a.renderItems(),r.a.createElement("span",{className:"group-input"},r.a.createElement("span",{className:"column summary"},r.a.createElement("span",null,"Total before tax (netto): ",D(e).toFixed(2)," $"),r.a.createElement("span",null,"Total after tax (brutto): ",k(e).toFixed(2)," $"))))},a.renderButtons=function(){return r.a.createElement("span",{className:"group-input"},r.a.createElement("span",{className:"row"},r.a.createElement(b,{type:"success",label:"Save",onClick:a.validate}),r.a.createElement(b,{type:"normal",label:"Cancel",onClick:a.props.onDismiss}),r.a.createElement(b,{label:"Add Item",onClick:a.addItem})))},a.renderConfirm=function(){return r.a.createElement(j,{title:"Save Invoice",message:"You are about to save changes, continue ?",onConfirm:function(){return a.setState({showConfirm:!1},a.saveInvoice)},onCancel:function(){return a.setState({showConfirm:!1})},onDismiss:function(){return a.setState({showConfirm:!1})},show:a.state.showConfirm,type:"warning"})},a.state={show:a.props.show,showConfirm:!1,validation:{dueDate:!0,sender:{name:!0,address1:!0,vatId:!0,email:!0},recipient:{name:!0,address1:!0,vatId:!0,email:!0},items:[]}},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.invoicesReducer.selectedInvoice&&this.props.invoicesReducer.selectedInvoice.id!==e.invoicesReducer.selectedInvoice&&this.validate()}},{key:"render",value:function(){return this.props.show&&this.props.invoicesReducer.invoiceSelected?r.a.createElement("div",null,r.a.createElement("div",{className:"modal-background",onClick:this.props.onDismiss}),r.a.createElement("div",{className:"modal-container"},this.renderHeader(),this.renderDetails(),this.renderConfirm(),this.props.editMode&&this.renderButtons())):r.a.createElement("span",null)}}]),t}(n.Component)),q=Object(d.b)(function(e){return{invoicesReducer:e.invoicesReducer}},{updateInvoice:function(e,t){return{type:"UPDATE_INVOICE",payload:{key:e,value:t}}},saveInvoice:function(e){return function(){var t=Object(H.a)(A.a.mark(function t(a){return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a({type:"STARTED_SAVING_INVOICES"}),!(e.id<0)){t.next=8;break}return t.next=5,z.post("/invoices",{invoice:e});case 5:t.sent,t.next=11;break;case 8:return t.next=10,z.put("/invoices/".concat(e.id),{invoice:e});case 10:t.sent;case 11:F()(a),t.next=16;break;case 14:t.prev=14,t.t0=t.catch(0);case 16:case"end":return t.stop()}},t,null,[[0,14]])}));return function(e){return t.apply(this,arguments)}}()}})(L),B=(a(84),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onMouseOverInvoice=function(e,t){a.setState({invoiceHover:t})},a.refreshPage=function(){a.props.getInvoices(a.props.invoicesReducer.meta.pageNumber,a.state.page_size)},a.nextPage=function(){a.props.getInvoices(a.props.invoicesReducer.meta.pageNumber+1,a.state.page_size)},a.prevPage=function(){a.props.getInvoices(a.props.invoicesReducer.meta.pageNumber-1,a.state.page_size)},a.firstPage=function(){a.props.getInvoices(1,a.state.page_size)},a.lastPage=function(){a.props.getInvoices(a.props.invoicesReducer.meta.totalPages,a.state.page_size)},a.handleOption=function(e,t){switch(e){case"Edit":a.setState({editMode:!0,showInvoice:!0},function(){a.props.selectInvoice(a.props.invoicesReducer.invoices[a.state.invoiceOptions])});break;case"Details":a.setState({editMode:!1,showInvoice:!0},function(){a.props.selectInvoice(a.props.invoicesReducer.invoices[a.state.invoiceOptions])});break;case"Delete":a.setState({showConfirm:!0},function(){a.props.selectInvoice(a.props.invoicesReducer.invoices[a.state.invoiceOptions])});break;default:return}},a.onSort=function(e,t){if(t){var n=!a.state.sort.column||!a.state.sort.asc,r=Object(h.a)(a.props.invoicesReducer.invoices);r.sort(function(e,a){return e[t].localeCompare(a[t])}),n||r.reverse(),a.props.sortInvoices(r),a.setState({sort:{column:t,asc:n}})}},a.search=function(e){return e.id.toString().indexOf(a.state.searchText)>=0},a.renderHeader=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",{className:"title"},"Invoices"),r.a.createElement(I,{placeholder:"Invoice #",value:a.state.searchText,onChange:function(e){return a.setState({searchText:e.target.value})}}),r.a.createElement(b,{icon:"fas fa-plus",label:"Add Invoice",onClick:function(){return a.setState({editMode:!0,showInvoice:!0},function(){a.props.newInvoice()})}}))},a.renderLabels=function(){return a.props.invoicesReducer.loading?r.a.createElement("span",null):r.a.createElement("div",{className:"labels"},r.a.createElement(w,{title:k(a.props.invoicesReducer.invoices).toFixed(2)+" $",subtitle:"Below invoices total",minilabels:[{title:a.props.invoicesReducer.meta.total,subtitle:"All invoices"},{title:a.props.invoicesReducer.meta.pageSize,subtitle:"Below invoices"}]}))},a.renderPagination=function(){return r.a.createElement("div",{className:"pagination"},r.a.createElement(b,{type:1===a.props.invoicesReducer.meta.pageNumber?"disabled":"primary",icon:"fas fa-angle-double-left",onClick:a.firstPage,style:{width:40,height:40,borderRadius:20,fontSize:12}}),r.a.createElement(b,{type:1===a.props.invoicesReducer.meta.pageNumber?"disabled":"primary",icon:"fas fa-chevron-left",onClick:a.prevPage,style:{width:50,height:50,borderRadius:25}}),r.a.createElement("span",null,a.props.invoicesReducer.meta.pageNumber),r.a.createElement(b,{type:a.props.invoicesReducer.meta.pageNumber===a.props.invoicesReducer.meta.totalPages?"disabled":"primary",icon:"fas fa-chevron-right",onClick:a.nextPage,style:{width:50,height:50,borderRadius:25}}),r.a.createElement(b,{type:a.props.invoicesReducer.meta.pageNumber===a.props.invoicesReducer.meta.totalPages?"disabled":"primary",icon:"fas fa-angle-double-right",onClick:a.lastPage,style:{width:40,height:40,borderRadius:20,fontSize:12}}),r.a.createElement("span",{className:"page-size"},r.a.createElement(g,{placeholder:"Page Size",type:"number",onChange:function(e){return a.setState({page_size:e.target.value})},value:a.state.page_size,style:{width:50,textAlign:"center"}}),r.a.createElement(b,{icon:"fas fa-sync",onClick:a.refreshPage,style:{width:40,height:40,borderRadius:20,fontSize:12}})))},a.renderInvoices=function(){return a.props.invoicesReducer.loading?r.a.createElement(y,{message:"Loading..."}):r.a.createElement("div",{className:"card"},r.a.createElement(O,{onMouseLeave:function(){return a.setState({invoiceHover:null})}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Invoice #"),r.a.createElement("th",{onClick:function(e){return a.onSort(e,"dueDate")}},r.a.createElement("span",null,"Due Date"),"dueDate"===a.state.sort.column?a.state.sort.asc?r.a.createElement("i",{style:{marginLeft:20},className:"fas fa-sort-amount-up"}):r.a.createElement("i",{style:{marginLeft:20},className:"fas fa-sort-amount-down"}):r.a.createElement("i",{style:{marginLeft:20,color:"#B1B1B1"},className:"fas fa-sort-amount-down"})),r.a.createElement("th",{onClick:function(e){return a.onSort(e,"createdDate")}},r.a.createElement("span",null,"Created Date"),"createdDate"===a.state.sort.column?a.state.sort.asc?r.a.createElement("i",{style:{marginLeft:20},className:"fas fa-sort-amount-up"}):r.a.createElement("i",{style:{marginLeft:20},className:"fas fa-sort-amount-down"}):r.a.createElement("i",{style:{marginLeft:20,color:"#B1B1B1"},className:"fas fa-sort-amount-down"})),r.a.createElement("th",null,"Sender Name"),r.a.createElement("th",null,"Recipient Name"),r.a.createElement("th",null,"Total Price (with tax)"),r.a.createElement("th",{style:{width:80}})),a.props.invoicesReducer.invoices.filter(a.search).map(function(e,t){return r.a.createElement("tr",{onMouseOver:function(e){return a.onMouseOverInvoice(e,t)},key:e.id.toString(),className:"invoice-row"},r.a.createElement("td",null,e.id),r.a.createElement("td",null,E()(e.dueDate).format("lll")),r.a.createElement("td",null,E()(e.createdDate).format("lll")),r.a.createElement("td",{className:"name"},e.sender.name,r.a.createElement("span",{className:"tooltip"},e.sender.email)),r.a.createElement("td",null,e.recipient.name,r.a.createElement("span",{className:"tooltip"},e.recipient.email)),r.a.createElement("td",null,k(e).toFixed(2)," $"),r.a.createElement("td",null,r.a.createElement(b,{onClick:function(){return a.setState({showMenu:!0,invoiceOptions:t})},icon:"fas fa-ellipsis-v",type:a.state.invoiceHover===t?"primary":"solid",style:{width:40,height:40,borderRadius:20}}),r.a.createElement(C,{options:["Edit","Details","Delete"],handleOption:a.handleOption,show:a.state.showMenu&&a.state.invoiceOptions===t,onDismiss:function(){return a.setState({showMenu:!1,invoiceOptions:null})}})))}))),a.renderPagination())},a.renderInvoice=function(){return r.a.createElement(q,{editMode:a.state.editMode,show:a.state.showInvoice,onDismiss:function(){return a.setState({showInvoice:!1})}})},a.renderConfirm=function(){return r.a.createElement(j,{title:"Delete Invoice",message:"You are about to delete invoice, continue ?",onConfirm:function(){return a.setState({showConfirm:!1},function(){return a.props.deleteInvoice(a.props.invoicesReducer.invoiceSelected)})},onCancel:function(){return a.setState({showConfirm:!1})},onDismiss:function(){return a.setState({showConfirm:!1})},show:a.state.showConfirm,type:"danger"})},a.state={page_size:10,invoiceHover:null,invoiceOptions:null,showMenu:!1,showInvoice:!1,editMode:!1,showConfirm:!1,sort:{column:null,asc:!0},searchText:""},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.getInvoices()}},{key:"componentDidUpdate",value:function(e){var t=this;if(e.invoicesReducer.loading!==this.props.invoicesReducer.loading&&!this.props.invoicesReducer.loading){if(this.state.sort.column){var a=Object(h.a)(this.props.invoicesReducer.invoices);a.sort(function(e,a){return e[t.state.sort.column].localeCompare(a[t.state.sort.column])}),this.state.sort.asc||a.reverse(),this.props.sortInvoices(a)}this.setState({page_size:this.props.invoicesReducer.meta.pageSize})}}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},this.renderHeader(),this.renderLabels(),this.renderInvoices(),this.renderInvoice(),this.renderConfirm())}}]),t}(n.Component)),Y=Object(d.b)(function(e){return{invoicesReducer:e.invoicesReducer}},{getInvoices:F,selectInvoice:function(e){return{type:"SELECT_INVOICE",payload:e}},newInvoice:function(){return{type:"NEW_INVOICE"}},deleteInvoice:function(e){return function(){var t=Object(H.a)(A.a.mark(function t(a){return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"STARTED_FETCH_INVOICES"}),t.next=4,z.delete("/invoices/".concat(e.id));case 4:t.sent,F()(a),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},sortInvoices:function(e){return{type:"SORT_INVOICES",payload:e}}})(B),W=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(v.a,{path:"/",exact:!0,component:Y}))}}]),t}(n.Component),$=Object(d.b)(null,{})(W);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=a(18),G=a(45),J={invoices:[],selectedInvoice:null,loading:!1,invoiceSelected:null,meta:{total:0,totalPages:0,pageNumber:0,pageSize:0},newInvoice:{id:-1,dueDate:new Date,createdDate:new Date,sender:{name:"",email:"",address1:"",address2:"",address3:"",vatId:""},recipient:{name:"",email:"",address1:"",address2:"",address3:"",vatId:""},items:[{description:"",qty:0,unitPriceNet:0,taxRate:0}]}},Z=Object(U.c)({invoicesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STARTED_FETCH_INVOICES":case"STARTED_SAVING_INVOICES":return Object(R.a)({},e,{loading:!0});case"FINISHED_FETCH_INVOICES":return Object(R.a)({},e,{invoices:t.payload.invoices,meta:t.payload.meta,loading:!1});case"FAILED_FETCH_INVOICES":return Object(R.a)({},e);case"SELECT_INVOICE":return Object(R.a)({},e,{invoiceSelected:t.payload});case"UPDATE_INVOICE":var a=Object(R.a)({},e.invoiceSelected);return a[t.payload.key]=t.payload.value,Object(R.a)({},e,{invoiceSelected:a});case"NEW_INVOICE":var n=Object(R.a)({},e.newInvoice);return Object(R.a)({},e,{invoiceSelected:n});case"SORT_INVOICES":return Object(R.a)({},e,{invoices:t.payload,selectedInvoice:null});default:return e}}}),Q=Object(U.d)(Z,{},Object(U.a)(G.a));s.a.render(r.a.createElement(d.a,{store:Q},r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[46,1,2]]]);
//# sourceMappingURL=main.18cf23b9.chunk.js.map